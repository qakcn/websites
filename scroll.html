<!DOCTYPE html>
<html>
<head>
	<!-- 元数据 -->
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge，chrome=1" />
	
	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>

	<!-- 页面信息 -->
	<title>黄竹林生态土鸡养殖-云南·西双版纳·勐海</title>
	<meta name="keyword" content="" />
	<meta name="description" content="" />
	
	<style>
	body {background-color: black; margin: 0}
		div#bg {background-color:white;background-image: url(images/bg.png); background-position: center top; background-repeat: no-repeat; width:1000px; margin:auto; background-attachment: fixed;}
		div#fg {background-image:url(images/fg.png);width:1000px;height:3000px; background-repeat: no-repeat;}
	</style>
	<script>
		$(function(){
			$('div#fg').height(3000+($(window).height()-600));
			
			$(document).on('scroll',function(e){
				var bgtop=$(this).scrollTop()/2;
				$('div#bg').css('background-position','center -'+bgtop+'px');
			});
			
			$(document).on('scroll',scrollhandler);
			
			$(window).on('resize',function(){
				$('div#fg').height(3000+($(window).height()-600));
			});
		});
		
		function scrollhandler(){
				var fgtop=$(this).scrollTop();
				
				switch(scrolldirect(fgtop)) {
					case 1:
						if(fgtop>300 && fgtop < 600){
							scrollto(1200,'slow');
						}else if(fgtop > 1500 && fgtop < 1800) {
							scrollto(2400,'slow');
						}
						break;
					case -1:
						if(fgtop<2100 && fgtop > 1800){
							scrollto(1200,'slow');
						}else if(fgtop < 900 && fgtop > 600) {
							scrollto(0,'slow');
						}
						break;
				}
			}
		
		function scrollto(pos,duration) {
			$(document).off('scroll',scrollhandler);
			if(navigator.userAgent.match(/AppleWebKit/)) {
				$('body').animate({scrollTop: pos},duration,function(){$(document).on('scroll',scrollhandler);});
			}else {
				$('html').animate({scrollTop: pos},duration,function(){$(document).on('scroll',scrollhandler);});
			}
		}
		
		fs=$(document).scrollTop();
		function scrolldirect(fe) {
			if(fe>fs) {
				fs=fe;
				return 1;
			}else if(fs>fe) {
				fs=fe;
				return -1;
			}else {
				fs=fe;
				return 0;
			}
		}
	</script>
</head>
<body>
	<div id="bg">
		<div id="fg"></div>
	</div>
</body>
</html>